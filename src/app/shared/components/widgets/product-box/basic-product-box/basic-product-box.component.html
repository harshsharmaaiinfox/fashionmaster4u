<div class="product-box" [class]="class">
    <!-- Sale/Trending/Featured Badge -->
    <div class="label-tag" [ngClass]="product.is_sale_enable ? 'sale-tag' : product.is_featured ? 'featured-tag' : product.is_trending ?
        'trending-tag' : '' " *ngIf="product.is_trending || product.is_sale_enable || product.is_featured">
        <span>{{ (product.is_sale_enable ? 'sale' : product.is_featured ? 'featured' : product.is_trending ? 'trending'
            : '' ) | translate }}</span>
    </div>

    <!-- Product Image -->
    <div class="product-image">
        <a [routerLink]="['/product/', product.slug]">
            <img [src]="product.product_thumbnail ?
                        product.product_thumbnail.original_url :
                        'assets/images/product.png'" class="img-fluid" [alt]="product.name">
        </a>
        <div class="product-header-top">
            <app-button *ngIf="close" [class]="'btn wishlist-button close_button'" [spinner]="false" [id]="'close_btn'"
                (click)="removeWishlist(product.id)">
                <i class="ri-close-line"></i>
            </app-button>
            <app-button *ngIf="!close" [class]="'btn wishlist-button wishlist-icon-btn'" [spinner]="false"
                [id]="'wishlist_btn'" (click)="addToWishlist(product)">
                <i [class]="product['is_wishlist'] ? 'ri-heart-fill' : 'ri-heart-line'"></i>
            </app-button>
        </div>
    </div>

    <!-- Product Details -->
    <div class="product-detail">
        <!-- Brand Name (Optional) -->
        <h6 class="brand-name" *ngIf="product.brand">{{ product.brand.name }}</h6>

        <!-- Product Title -->
        <a [routerLink]="['/product/', product.slug]" class="product-title-link">
            <h6 class="name">{{ product.name }}</h6>
        </a>

        <!-- Product Description -->
        <p class="product-description" *ngIf="product.short_description">{{ product.short_description }}</p>

        <!-- Unit (Optional) -->
        <h6 class="unit" *ngIf="product.unit">{{ product.unit }}</h6>

        <!-- Store Name (Optional) -->
        <h6 class="byers" *ngIf="product.store">
            {{ 'By' }} <span class="text-title">
                <a [routerLink]="['/seller/store/', product.store.slug]">{{ product.store.store_name }}</a>
            </span>
        </h6>

        <!-- Price -->
        <div class="product-price">
            <span class="current-price">{{ product.sale_price | currencySymbol }}</span>
            <del class="original-price" *ngIf="product.discount">{{ product.price | currencySymbol }}</del>
        </div>

        <!-- Add to Cart Button -->
        <div class="add-to-cart-box">
            <app-product-cart-button [product]="product" [text]="'Add to Cart'"></app-product-cart-button>
        </div>


    </div>
</div>
<app-product-detail-modal #productDetailModal [product]="product"></app-product-detail-modal>
<app-variation-modal #variationModal></app-variation-modal>