<!-- My Account Widget -->
<div *ngIf="style == 'basic'" class="my-account-wrapper">
    <div class="delivery-login-box">
        <div class="delivery-icon">
            <i class="cil-user" *ngIf="!(isAuthenticated$ | async) else profile"></i>
            <ng-template #profile>
                <div class="user-box">
                    <img [src]="(user$ | async)?.profile_image?.original_url" class="img-fluid" alt="profile"
                        *ngIf="(user$ | async)?.profile_image && (user$ | async)?.profile_image?.original_url else placeholder">
                    <ng-template #placeholder>
                        <div class="initials">{{ (user$ | async)?.name?.charAt(0)?.toString()?.toUpperCase() }}</div>
                    </ng-template>
                </div>
            </ng-template>
        </div>
    </div>

    <div class="onhover-div onhover-div-login shadow-sm">
        <div class="dropdown-header" *ngIf="(isAuthenticated$ | async)">
            <p class="welcome-text">{{ 'Welcome' | translate }},</p>
            <h6 class="user-name">{{ (user$ | async)?.name }}</h6>
        </div>

        <ul class="user-box-name">
            <li class="product-box-contain" *ngIf="!(isAuthenticated$ | async)">
                <a [routerLink]="['/auth/login']" class="dropdown-item login-item">
                    <div class="icon-box"><i class="cil-account-logout"></i></div>
                    <span class="item-text">{{ 'Login' | translate }}</span>
                </a>
            </li>
            <li class="product-box-contain" *ngIf="!(isAuthenticated$ | async)">
                <a [routerLink]="['/auth/register']" class="dropdown-item register-item">
                    <div class="icon-box"><i class="cil-user-plus"></i></div>
                    <span class="item-text">{{ 'Register' | translate }}</span>
                </a>
            </li>
            <li class="product-box-contain" *ngIf="(isAuthenticated$ | async)">
                <a [routerLink]="['/account/dashboard']" class="dropdown-item">
                    <div class="icon-box"><i class="cil-user"></i></div>
                    <span class="item-text">{{ 'My Account' | translate }}</span>
                </a>
            </li>
            <li class="product-box-contain" *ngIf="(isAuthenticated$ | async)">
                <a href="javascript:void(0)" (click)="confirmationModal.openModal()" class="dropdown-item logout-item">
                    <div class="icon-box"><i class="cil-account-logout"></i></div>
                    <span class="item-text">{{ 'Logout' | translate }}</span>
                </a>
            </li>
        </ul>
    </div>
</div>

<app-confirmation-modal #confirmationModal (confirmed)="logout()">
</app-confirmation-modal>